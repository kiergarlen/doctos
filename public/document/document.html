<md-content layout="row"
  layout-padding layout-wrap
  layout-align="center center"
  ng-cloak
  style="background: transparent;"
  >
  <div
    flex-gt-sm="70"
    flex="100">
    <form name="newDocForm">
      <md-card class="md-default-theme"
        md-whiteframe="2"
        flex
        >
        <md-toolbar md-scroll-shrink
          class="md-primary md-hue-2"
          >
          <div class="md-toolbar-tools">
            <span>Envío / Respuesta</span>
          </div>
        </md-toolbar>
        <md-card>
          <md-card-content class="autoScroll md-padding">
            <h3>Datos básicos</h3>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Número Documento</label>
              <input ng-model="document.doc.number"
                >
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Folio</label>
              <input ng-model="document.doc.consecutive"
                >
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Oficio Dirección General</label>
              <input ng-model="document.doc.numberExecutiveOffice"
                >
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Tipo Documento</label>
              <md-select ng-model="document.doc.documentType">
                <md-option
                  ng-repeat="item in document.documentTypes"
                  ng-value="item.type">
                  {{::item.type}}
                </md-option>
              </md-select>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Área</label>
              <md-select ng-model="document.doc.internalDepartment">
                <md-option
                  ng-repeat="item in document.internalDepartments"
                  ng-value="item">
                  {{::item}}
                </md-option>
              </md-select>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Status acuse</label>
              <md-select ng-model="document.doc.status">
                <md-option
                  ng-repeat="item in document.statusTypes"
                  ng-value="item.status">
                  {{::item.status}}
                </md-option>
              </md-select>
            </md-input-container>
          </md-card-content>
        </md-card>
        <md-card>
          <md-card-content class="autoScroll md-padding">
            <h3>Fechas</h3>
            <label>Fecha Emisión</label><br>
            <md-datepicker
              name="draftDateField"
              ng-model="document.doc.draftDate"
              md-placeholder="Fecha Emisión"
              md-min-date="document.minDate"
              md-max-date="document.maxDate"
              required
              >
            </md-datepicker>
            <div>
              <div layout="column"
                class="validation-messages"
                ng-messages="newDocForm.draftDateField.$error"
                >
                <div ng-message="valid">No es una fecha válida</div>
                <div ng-message="mindate">
                  La fecha es anterior al rango permitido
                </div>
                <div ng-message="maxdate">
                  La fecha es posterior al rango permitido
                </div>
              </div>
            </div>
            <br>
            <label>Fecha Firma</label><br>
            <md-datepicker
              name="signDateField"
              ng-model="document.doc.signDate"
              md-placeholder="Fecha recepción (Firma)"
              md-min-date="document.minDate"
              md-max-date="document.maxDate"
              >
            </md-datepicker>
            <div>
              <div layout="column"
                class="validation-messages"
                ng-messages="newDocForm.signDateField.$error">
                <div ng-message="valid">No es una fecha válida</div>
                <div ng-message="mindate">
                  La fecha es anterior al rango permitido
                </div>
                <div ng-message="maxdate">
                  La fecha es posterior al rango permitido
                </div>
              </div>
            </div>
            <br>
          </md-card-content>
        </md-card>
        <md-card>
          <md-card-content class="autoScroll md-padding">
            <h3>Término</h3>
            <md-input-container>
              <md-switch
                ng-model="document.doc.hasDeadline"
                aria-label="Switch término"
                >
                ¿Tiene fecha de término?
                {{document.doc.hasDeadline ? 'Sí' : 'No'}}
              </md-switch>
            </md-input-container>
            <br>
            <div ng-show="document.doc.hasDeadline">
              <label>Fecha y hora de Término</label><br>
              <md-datepicker
                name="deadlineField"
                ng-model="document.doc.deadline"
                md-placeholder="Fecha de Término"
                md-min-date="document.minDate"
                md-max-date="document.maxDate"
                required
                >
              </md-datepicker>
              <div>
                <div layout="column"
                  class="validation-messages"
                  ng-messages="newDocForm.deadlineField.$error"
                  >
                  <div ng-message="valid">No es una fecha válida</div>
                  <div ng-message="mindate">
                    La fecha es anterior al rango permitido
                  </div>
                  <div ng-message="maxdate">
                    La fecha es posterior al rango permitido
                  </div>
                </div>
              </div>
              <md-input-container class="md-icon-float ">
                <label>Horas</label>
                <md-icon
                  class="material-icons"
                  aria-label="Horas">access_time</md-icon>
                <input type="number"
                  ng-max="23"
                  ng-min="0"
                  ng-model="document.deadlineHours"
                  ng-pattern="/([01]?[0-9]|2[0-3])?/"
                  >
              </md-input-container>
              <md-input-container class="md-icon-float ">
                <label>Minutos</label>
                <input type="number"
                  ng-max="59"
                  ng-min="0"
                  ng-model="document.deadlineMinutes"
                  ng-pattern="/[0-5][0-9]?/"
                  >
              </md-input-container>
              <br>
              <md-input-container class="md-icon-float md-block">
                <label>Término (horas)</label>
                <md-icon
                  class="material-icons"
                  aria-label="Hora">alarm</md-icon>
                <input type="number"
                  ng-model="document.doc.hoursUntilDeadline"
                  >
              </md-input-container>
            </div>
          </md-card-content>
        </md-card>
        <md-card>
          <md-card-content class="autoScroll md-padding">
            <h3>Recepción</h3>
            <label>Fecha y hora de Sellado</label><br>
            <md-datepicker
              name="sealDateField"
              ng-model="document.doc.sealDate"
              md-placeholder="Fecha Sellado"
              md-min-date="document.minDate"
              md-max-date="document.maxDate"
              required
              >
            </md-datepicker>
            <div>
              <div layout="column"
                class="validation-messages"
                ng-messages="newDocForm.sealDateField.$error"
                >
                <div ng-message="valid">No es una fecha válida</div>
                <div ng-message="mindate">
                  La fecha es anterior al rango permitido
                </div>
                <div ng-message="maxdate">
                  La fecha es posterior al rango permitido
                </div>
              </div>
            </div>
            <md-input-container class="md-icon-float ">
              <label>Horas</label>
              <md-icon
                class="material-icons"
                aria-label="Horas">access_time</md-icon>
              <input type="number"
                ng-max="23"
                ng-model="document.sealDateTimeHours"
                ng-pattern="/([01]?[0-9]|2[0-3])?/"
                >
            </md-input-container>
            <md-input-container class="md-icon-float ">
              <label>Minutos</label>
              <input type="number"
                ng-max="59"
                ng-min="0"
                ng-model="document.sealDateTimeMinutes"
                ng-pattern="/[0-5][0-9]?/"
                >
            </md-input-container>
          </md-card-content>
        </md-card>
        <md-card>
          <md-card-content class="autoScroll md-padding">
            <h3>Destinatario</h3>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Tipo</label>
              <md-select ng-model="document.doc.receiver.type">
                <md-option
                  ng-repeat="item in document.receiverTypes"
                  ng-value="item.type">
                  {{::item.type}}
                </md-option>
              </md-select>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Dependencia/Organización</label>
              <input ng-model="document.doc.receiver.organization"
                required
                >
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Encargado/Nombre</label>
              <input ng-model="document.doc.receiver.name">
            </md-input-container>
          </md-card-content>
        </md-card>
        <md-card>
          <md-card-content class="autoScroll md-padding">
            <h3>Documento de respuesta</h3>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Asunto</label>
              <input
                name="subjectInput"
                ng-model="document.doc.subject"
                md-placeholder="Asunto de la respuesta"
                md-maxlength="200"
                required
                >
            </md-input-container>
            <md-input-container class="md-block">
              <label>Contenido</label>
              <textarea
                ng-model="document.doc.content"
                rows="10"
                >
              </textarea>
            </md-input-container>
          </md-card-content>
          <md-card-content class="autoScroll md-padding">
            <md-input-container class="md-block" flex-gt-xs>
              <label>Documento Escaneado</label>
              <md-icon
                class="material-icons"
                aria-label="Archivo">insert_drive_file</md-icon>
              <input type="text"
                ng-model="document.doc.url"
                readonly
                >
            </md-input-container>
            <div
              class="drop-box"
              layout="column"
              layout-align="center center"
              nv-file-drop
              uploader="document.uploader"
              >
              <h2><small>Arrastrar PDF aquí</small></h2>
              <!--
              <ul>
                <li ng-repeat="item in document.uploader.queue">
                  Name: <span ng-bind="item.file.name"></span><br>
                  <button ng-click="item.upload()">upload</button>
                </li>
              </ul>
              -->
            </div>
            <br>
          </md-card-content>
        </md-card>
      </md-card>
      <md-card class="md-default-theme"
        md-whiteframe="2"
        flex
        >
        <md-toolbar md-scroll-shrink
          class="md-primary md-hue-2"
          >
          <div class="md-toolbar-tools">
            <span>Recepción</span>
          </div>
        </md-toolbar>
        <md-card>
          <md-card-content class="autoScroll md-padding">
            <md-card-title-text>
              <span class="md-headline">Datos Básicos</span>
            </md-card-title-text>
            <div layout-gt-xs="row">
              <md-input-container class="md-block" flex-gt-xs>
                <label>Número de Control (Correspondencia)</label>
                <input
                  ng-model="document.doc.reception.controlNumber"
                  required
                  >
              </md-input-container>
            </div>
            <label>Fecha recepción (Original)</label><br>
            <md-datepicker
              name="receptionDateField"
              ng-model="document.doc.reception.receptionDate"
              md-placeholder="Fecha recepción (Original)"
              md-min-date="document.minDate"
              md-max-date="document.maxDate"
              required
              >
            </md-datepicker>
            <div layout="column"
              class="validation-messages"
              ng-messages="newDocForm.receptionDateField.$error">
              <div ng-message="valid">No es una fecha válida</div>
              <div ng-message="mindate">La fecha es anterior al rango</div>
              <div ng-message="maxdate">La fecha es posterior al rango</div>
            </div>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Área receptora</label>
              <md-select
                ng-model="document.doc.reception.office"
                required
                >
                <md-option
                  ng-repeat="item in document.respondents"
                  ng-value="item.office"
                  >
                  {{::item.office}}
                </md-option>
              </md-select>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Recepcionista</label>
              <md-select ng-model="document.doc.reception.receptionist">
                <md-option
                  ng-repeat="receptionist in document.receptionists"
                  ng-value="receptionist.name">
                  {{::receptionist.name}}
                </md-option>
              </md-select>
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Asunto (Original)</label>
              <input
                ng-model="document.doc.reception.subject"
                md-maxlength="200"
                >
            </md-input-container>
          </md-card-content>
          <md-card-content class="autoScroll md-padding">
              <md-input-container class="md-block" flex-gt-xs>
                <label>Documento Recibido</label>
                <md-icon
                  class="material-icons"
                  aria-label="Archivo">insert_drive_file</md-icon>
                <input type="text"
                  ng-model="document.doc.urlReceived"
                  readonly
                  >
              </md-input-container>
              <div
              class="drop-box"
              layout="column"
              layout-align="center center"
              nv-file-drop
              uploader="document.uploader"
              >
              <h2><small>Arrastrar PDF aquí</small></h2>
              </div>
              <br>
            </md-card-content>
        </md-card>
        <md-card>
          <md-card-content class="autoScroll md-padding">
            <h3>Término (Respuesta)</h3>
            <md-input-container>
              <md-switch
                ng-model="document.doc.reception.hasDeadline"
                aria-label="Switch término (respuesta)"
                >
                ¿Tiene fecha de término?
                {{document.doc.reception.hasDeadline ? 'Sí' : 'No'}}
              </md-switch>
            </md-input-container>
            <br>
            <div ng-show="document.doc.reception.hasDeadline">
              <label>Fecha y hora de Término (Respuesta)</label><br>
              <md-datepicker
                name="receptionDeadlineField"
                ng-model="document.doc.reception.deadline"
                md-placeholder="Fecha de Término"
                md-min-date="document.minDate"
                md-max-date="document.maxDate"
                required
                >
              </md-datepicker>
              <div>
                <div layout="column"
                  class="validation-messages"
                  ng-messages="newDocForm.receptionDeadlineField.$error"
                  >
                  <div ng-message="valid">No es una fecha válida</div>
                  <div ng-message="mindate">
                    La fecha es anterior al rango permitido
                  </div>
                  <div ng-message="maxdate">
                    La fecha es posterior al rango permitido
                  </div>
                </div>
              </div>
              <!-- br -->
              <md-input-container class="md-icon-float ">
                <label>Horas</label>
                <md-icon
                  class="material-icons"
                  aria-label="Horas">access_time</md-icon>
                <input type="number"
                  ng-max="23"
                  ng-min="0"
                  ng-model="document.receptionDeadlineHours"
                  ng-pattern="/([01]?[0-9]|2[0-3])?/"
                  >
              </md-input-container>
              <md-input-container class="md-icon-float ">
                <label>Minutos</label>
                <input type="number"
                  ng-max="59"
                  ng-min="0"
                  ng-model="document.receptionDeadlineMinutes"
                  ng-pattern="/[0-5][0-9]?/"
                  >
              </md-input-container>
              <br>
              <md-input-container class="md-icon-float md-block">
                <label>Término de respuesta (horas)</label>
                <md-icon
                  class="material-icons"
                  aria-label="Hora">alarm</md-icon>
                <input type="number"
                  ng-model="document.doc.reception.hoursUntilDeadline"
                  >
              </md-input-container>
            </div>
          </md-card-content>
        </md-card>
      </md-card>
      <md-card class="md-default-theme"
        md-whiteframe="2"
        flex
        >
        <md-toolbar md-scroll-shrink
          class="md-primary md-hue-2"
          >
          <div class="md-toolbar-tools">
            <span>Acciones</span>
          </div>
        </md-toolbar>
        <md-input-container class="md-block" flex-gt-xs>
          <md-button class="md-raised md-accent md-hue-2"
            ng-click="document.submit()"
            >
            <md-icon class="material-icons"
              aria-label="Guardar">save</md-icon>
            Guardar
          </md-button>
          <br>
        </md-input-container>
      </md-card>
    </form>
  </div>
</md-content>
