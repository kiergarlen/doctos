<md-content layout="row"
  layout-padding layout-wrap
  layout-align="center center"
  ng-cloak
  style="background: transparent;"
  >
  <div flex hide-sm>
  </div>
  <md-card class="md-default-theme"
    md-whiteframe="2"
    flex-gt-sm="66"
    flex="100">
    <md-card-content class="autoScroll md-padding">
      <h1>Nuevo registro</h1>
      <form name="newDocForm">
        <md-card class="md-default-theme"
          md-whiteframe="1">
          <md-card-content>
            <md-card-title-text>
              <span class="md-headline">Recepción</span>
            </md-card-title-text>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Status acuse</label>
              <md-select ng-model="document.doc.status">
                <md-option
                  ng-repeat="item in document.status">
                  {{item.status}}
                </md-option>
              </md-select>
            </md-input-container>
            <div layout-gt-xs="row">
              <md-input-container class="md-block" flex-gt-xs>
                <label>Número de Control</label>
                <input ng-model="document.doc.reception.controlNumber">
              </md-input-container>
              <md-datepicker
                name="receptionDateField"
                ng-model="document.doc.reception.date"
                md-placeholder="Fecha recepción"
                required
                md-min-date="document.minDate"
                md-max-date="document.maxDate"
                >
              </md-datepicker>
              <div layout="column"
                class="validation-messages"
                ng-messages="newDocForm.receptionDateField.$error">
                <div ng-message="valid">No es una fecha válida</div>
                <div ng-message="mindate">
                  La fecha es anterior al rango permitido
                </div>
                <div ng-message="maxdate">
                  La fecha es posterior al rango permitido
                </div>
              </div>
            </div>
            <md-autocomplete
              md-selected-item="document.selectedItem"
              md-search-text-change="document.searchTextChange(document.searchText)"
              md-search-text="document.searchText"
              md-selected-item-change="document.selectedItemChange(item)"
              md-items="item in document.querySearch(document.searchText)"
              md-item-text="item.office"
              md-min-length="0"
              placeholder="¿Cuál es el Área receptora?">
              <md-item-template>
                <span
                  md-highlight-text="document.searchText"
                  md-highlight-flags="^i">{{item.office}}</span>
              </md-item-template>
              <md-not-found>
                Sin coincidencias para "{{document.searchText}}"
              </md-not-found>
            </md-autocomplete>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Recepcionista</label>
              <input ng-model="document.doc.reception.receptionist">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Ruta del archivo original</label>
              <!--
              <input type="file" onchange="handleFiles(this.files)">
              -->
              <input type="text"
                ng-model="document.doc.reception.url"
                >
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Asunto</label>
              <input
                ng-model="document.doc.reception.subject"
                md-maxlength="200"
                >
            </md-input-container>
            <md-input-container class="md-block">
              <label>Contenido</label>
              <textarea
                ng-model="document.doc.reception.contents"
                rows="10"
                >
              </textarea>
            </md-input-container>
          </md-card-content>
        </md-card>
        <md-card class="md-default-theme"
          md-whiteframe="1">
          <md-card-content>
            <md-card-title-text>
              <span class="md-headline">Respuesta</span>
            </md-card-title-text>
            <div layout-gt-xs="row">
              <md-input-container class="md-block" flex-gt-xs>
                <label>Número de Oficio</label>
                <input ng-model="document.doc.response.number">
              </md-input-container>

              <md-datepicker
                name="responseDateField"
                ng-model="document.doc.response.date"
                md-placeholder="Fecha respuesta"
                required
                md-min-date="document.minDate"
                md-max-date="document.maxDate"
                >
              </md-datepicker>
              <div layout="column"
                class="validation-messages"
                ng-messages="newDocForm.responseDateField.$error">
                <div ng-message="valid">No es una fecha válida</div>
                <div ng-message="mindate">La fecha es anterior al rango</div>
                <div ng-message="maxdate">La fecha es posterior al rango</div>
              </div>
            </div>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Remitente</label>
              <input ng-model="document.doc.response.sender">
            </md-input-container>
            <md-input-container class="md-block" flex-gt-xs>
              <label>Organización del Remitente</label>
              <input ng-model="document.doc.response.senderOrganization">
            </md-input-container>
          </md-card-content>
        </md-card>
        <md-input-container class="md-block" flex-gt-xs>
          <md-button class="md-raised md-accent md-hue-2">
            <md-icon
              class="material-icons"
              aria-label="Guardar"
              ng-click="document.submitForm()"
              >save</md-icon>
            Guardar
          </md-button>
          <br>
        </md-input-container>
      </form>
    </md-card-content>
  </md-card>
  <div flex hide-sm>
  </div>
</md-content>
